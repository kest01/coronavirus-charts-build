(this["webpackJsonpcoronavirus-charts"]=this["webpackJsonpcoronavirus-charts"]||[]).push([[0],{33:function(e,t,n){e.exports=n(70)},38:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"loadDataAction",(function(){return y})),n.d(a,"changeActiveTab",(function(){return v})),n.d(a,"openCountryDetailAction",(function(){return C})),n.d(a,"addCountryToComparisonAction",(function(){return b})),n.d(a,"removeCountryFromComparisonAction",(function(){return E})),n.d(a,"clearComparisonAction",(function(){return A}));var r=n(0),o=n.n(r),c=n(13),i=n.n(c),s=(n(38),n(3)),u=n(5),l=n(6),d=n(8),m=n(9),p=n(15),f=n(30),h=n.n(f),y=function(){return function(e){h.a.get("https://pomber.github.io/covid19/timeseries.json").then((function(t){var n=t.data;e({type:"LOAD_DATA_REQUEST",data:n})})).catch((function(e){console.log(e),alert("Error on loading data")}))}},v=function(e){return function(t){t({type:"CHANGE_ACTIVE_TAB",activeTab:e})}},C=function(e){return function(t){t({type:"CHANGE_ACTIVE_TAB",activeTab:2,selectedCountry:e})}},b=function(e){return function(t){t({type:"ADD_COUNTRY_TO_COMPARISON",country:e})}},E=function(e){return function(t){t({type:"REMOVE_COUNTRY_FROM_COMPARISON",country:e})}},A=function(){return function(e){e({type:"CLEAR_COMPARISON_LIST"})}},O=n(4),g=(n(61),n(19)),x=n(2),T=(n(65),function(e){return o.a.createElement("button",{title:"Add to comparison",className:"add-button",onClick:e.onClick},"+")}),j=(n(66),function(e){var t=parseInt(e);return isNaN(t)?e:t<0?t.toLocaleString("USD"):0===t?"":"+"+t.toLocaleString("USD")}),D=function(e){var t=parseInt(e);return isNaN(t)?e:t.toLocaleString("USD")},N=[{Header:"Country",accessor:"country"},{Header:"Total cases",accessor:"total.confirmed",Cell:function(e){var t=e.cell;return D(t.value)}},{Header:"New cases",accessor:"last.confirmed",Cell:function(e){var t=e.cell;return j(t.value)}},{Header:"Total deaths",accessor:"total.deaths",Cell:function(e){var t=e.cell;return D(t.value)}},{Header:"Last deaths",accessor:"last.deaths",Cell:function(e){var t=e.cell;return j(t.value)}},{Header:"Total recovered",accessor:"total.recovered",Cell:function(e){var t=e.cell;return D(t.value)}},{Header:"Last recovered",accessor:"last.recovered",Cell:function(e){var t=e.cell;return j(t.value)}},{Header:"Total active",accessor:"total.active",Cell:function(e){var t=e.cell;return D(t.value)}},{Header:"Active change",accessor:"last.active",Cell:function(e){var t=e.cell;return j(t.value)}}];function k(e){var t=Object(g.useTable)({columns:N,data:e.data,initialState:{sortBy:[{id:"total.confirmed",desc:!0}]}},g.useSortBy),n=t.getTableProps,a=t.getTableBodyProps,r=t.headerGroups,c=t.rows,i=t.prepareRow;return o.a.createElement(o.a.Fragment,null,o.a.createElement("table",Object.assign({className:"ReactTable"},n()),o.a.createElement("thead",null,r.map((function(e){return o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return o.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),e.isSorted?e.isSortedDesc?o.a.createElement("span",{className:"sort-asc"}):o.a.createElement("span",{className:"sort-desc"}):"")})))}))),o.a.createElement("tbody",a(),c.map((function(t){return i(t),o.a.createElement("tr",t.getRowProps(),t.cells.map((function(t,n){return 0===n?o.a.createElement("td",t.getCellProps(),o.a.createElement("button",{onClick:function(){return e.openCountryDetailAction(t.row.values.country)}},t.render("Cell")),o.a.createElement(T,{onClick:function(){return e.addCountryToComparisonAction(t.row.values.country)}})):o.a.createElement("td",Object.assign({className:"global-table-column ".concat(0===t.value?"":"global-table-column-"+n)},t.getCellProps()),t.render("Cell"))})))})))),o.a.createElement("br",null))}var w=n(11),_=n.n(w),R=n(14),S=n.n(R),I=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.onChange(t.target.value)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.selected;return o.a.createElement("div",null,o.a.createElement("select",{defaultValue:n,onChange:this.handleChange},t.map((function(e){return o.a.createElement("option",{key:e},e)}))))}}]),n}(o.a.Component),H=n(32),P=["Russia","Ukraine","Belarus","US","Italy","Israel","China","Spain","Germany"],B=function(e){return Object.keys(e).forEach((function(t){e[t]=e[t].filter((function(e){return e.confirmed}))})),e},L=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(U(n,e[n]))})),Object(x.a)(t)},M=function(e){return Object(x.a)(Object.entries(e).map((function(e){return Object(H.a)(e,1)[0]})))},U=function(e,t){var n,a,r=t.slice(-2);return 2===r.length?(n=r[1],a=r[0]):(n=r[0],a={confirmed:0,recovered:0,deaths:0,active:0}),{country:e,total:Object(s.a)({},n,{active:V(n)}),last:{confirmed:n.confirmed-a.confirmed,deaths:n.deaths-a.deaths,recovered:n.recovered-a.recovered,active:V(n)-V(a)}}},V=function(e){return e.confirmed-e.recovered-e.deaths},F=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.filter((function(e){return e.confirmed>a})).map((function(e){var a=[Date.parse(e.date?e.date:""),t(e,n)];return n=e,a}))},G=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.filter((function(e){return e.confirmed>a})).map((function(e,a){var r=[a,t(e,n)];return n=e,r}))},W=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleChangeCountry=function(e){a.setState({country:e})},a.state={country:e.country},a}return Object(l.a)(n,[{key:"render",value:function(){var e=[{title:{text:"Total Cases"},xAxis:{type:"datetime"},series:[{name:this.state.country,data:F(this.props.data[this.state.country],(function(e){return e.confirmed}))}]},{title:{text:"Daily New Cases"},xAxis:{type:"datetime"},series:[{name:this.state.country,data:F(this.props.data[this.state.country],(function(e,t){return e.confirmed-(t?t.confirmed:0)})),type:"column"}]},{title:{text:"Total cases chart"},xAxis:{type:"datetime"},chart:{type:"column"},plotOptions:{column:{stacking:"normal",pointWidth:10}},series:[{name:"Active",data:F(this.props.data[this.state.country],(function(e){return V(e)}))},{name:"Recovered",data:F(this.props.data[this.state.country],(function(e){return e.recovered})),color:"green"},{name:"Deaths",data:F(this.props.data[this.state.country],(function(e){return e.deaths})),color:"black"}]},{title:{text:"Active Cases"},xAxis:{type:"datetime"},series:[{name:this.state.country,data:F(this.props.data[this.state.country],(function(e){return V(e)}))}]},{title:{text:"Dayly Cases vs Daily Deaths"},xAxis:{type:"datetime",crosshair:!0},yAxis:[{title:{text:"Cases"}},{title:{text:"deaths"},opposite:!0}],series:[{name:"Deaths",data:F(this.props.data[this.state.country],(function(e,t){return e.deaths-(t?t.deaths:0)})),type:"column",color:"black",yAxis:1},{name:"New Cases",data:F(this.props.data[this.state.country],(function(e,t){return e.confirmed-(t?t.confirmed:0)}))}]},{title:{text:"Daily New Deaths"},xAxis:{type:"datetime"},series:[{name:this.state.country,data:F(this.props.data[this.state.country],(function(e,t){return e.deaths-(t?t.deaths:0)})),type:"column"}]},{title:{text:"Daily recovered"},xAxis:{type:"datetime"},series:[{name:this.state.country,data:F(this.props.data[this.state.country],(function(e,t){return e.recovered-(t?t.recovered:0)})),type:"column"}]}],t=0;return o.a.createElement("div",{className:"chart_container"},o.a.createElement(I,{items:this.props.countries,selected:this.state.country,onChange:this.handleChangeCountry}),o.a.createElement("br",null),e.map((function(e){return o.a.createElement(S.a,{key:t++,highcharts:_.a,options:e})})))}}]),n}(o.a.Component),Y=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=0,n=[{title:{text:"Total Cases (after reaching 100 cases)"},xAxis:{title:{text:"Days after reaching 100 cases"},tickInterval:5},series:this.props.countries.map((function(t){return{name:t,data:G(e.props.data[t],(function(e){return e.confirmed}),100)}})).toArray()},{title:{text:"Daily Cases (after reaching 100 cases)"},xAxis:{title:{text:"Days after reaching 100 cases"},tickInterval:5},series:this.props.countries.map((function(t){return{name:t,data:G(e.props.data[t],(function(e,t){return e.confirmed-(t?t.confirmed:0)}),100)}})).toArray()},{title:{text:"Daily Deaths (after reaching 100 cases)"},xAxis:{title:{text:"Days after reaching 100 cases"},tickInterval:5},series:this.props.countries.map((function(t){return{name:t,data:G(e.props.data[t],(function(e,t){return e.deaths-(t?t.deaths:0)}),100)}})).toArray()}];return this.props.countries.isEmpty()?o.a.createElement("h3",null,"Please select countries for comparison on another tabs"):o.a.createElement("div",{className:"chart_container"},this.props.countries.map((function(n){return o.a.createElement("div",{key:t++},o.a.createElement("span",null,n),o.a.createElement("button",{title:"Remove country",onClick:function(){return e.props.removeCountryFromComparisonAction(n)}},o.a.createElement("svg",{width:"8",height:"10",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"1",y1:"7",x2:"7",y2:"1",stroke:"red",strokeWidth:"1"}),o.a.createElement("line",{x1:"1",y1:"1",x2:"7",y2:"7",stroke:"red",strokeWidth:"1"}))))})),o.a.createElement("br",null),n.map((function(e){return o.a.createElement(S.a,{key:t++,highcharts:_.a,options:e})})))}}]),n}(o.a.Component),z=function(e){return o.a.createElement(O.d,{selectedIndex:e.activeTab,onSelect:function(t){return e.changeActiveTab(t)}},o.a.createElement(O.b,null,o.a.createElement(O.a,null,"Global view"),o.a.createElement(O.a,null,"Favorite countries"),o.a.createElement(O.a,null,"Details"),o.a.createElement(O.a,null,"Comparison")),o.a.createElement(O.c,null,o.a.createElement(k,{data:e.globalViewByCountries,openCountryDetailAction:e.openCountryDetailAction,addCountryToComparisonAction:e.addCountryToComparisonAction})),o.a.createElement(O.c,null,o.a.createElement(k,{data:(t=e.globalViewByCountries,t.filter((function(e){return P.includes(e.country)}))),openCountryDetailAction:e.openCountryDetailAction,addCountryToComparisonAction:e.addCountryToComparisonAction})),o.a.createElement(O.c,null,o.a.createElement(W,{countries:e.countries,country:e.selectedCountry,data:e.data})),o.a.createElement(O.c,null,o.a.createElement(Y,{countries:e.comparisonCountries,data:e.data,removeCountryFromComparisonAction:e.removeCountryFromComparisonAction})));var t},J=(n(67),function(e){return o.a.createElement("div",{id:"cube-loader"},o.a.createElement("div",{className:"caption"},o.a.createElement("div",{className:"cube-loader"},o.a.createElement("div",{className:"cube loader-1"}),o.a.createElement("div",{className:"cube loader-2"}),o.a.createElement("div",{className:"cube loader-4"}),o.a.createElement("div",{className:"cube loader-3"}))))}),Q=(n(68),function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.loadDataAction()}},{key:"render",value:function(){return this.props.initialized?o.a.createElement("div",{className:"App"},o.a.createElement(z,this.props)):o.a.createElement(J,null)}}]),n}(o.a.Component)),$=Object(s.a)({},a),q=Object(p.b)((function(e){return Object(s.a)({},e)}),$,(function(e,t){return Object(s.a)({},e,{},t)}))(Q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(12),X=n(31),Z={data:Object(x.a)(),countries:Object(x.a)(),globalViewByCountries:Object(x.a)(),initialized:!1,activeTab:0,selectedCountry:"Russia",comparisonCountries:Object(x.a)()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DATA_REQUEST":return Object(s.a)({},e,{data:B(t.data),countries:M(t.data),globalViewByCountries:L(t.data),initialized:!0});case"CHANGE_ACTIVE_TAB":return Object(s.a)({},e,{activeTab:t.activeTab,selectedCountry:t.selectedCountry?t.selectedCountry:e.selectedCountry});case"ADD_COUNTRY_TO_COMPARISON":return Object(s.a)({},e,{comparisonCountries:e.comparisonCountries.includes(t.country)?e.comparisonCountries:e.comparisonCountries.push(t.country)});case"REMOVE_COUNTRY_FROM_COMPARISON":return Object(s.a)({},e,{comparisonCountries:e.comparisonCountries.filter((function(e){return e!==t.country}))});case"CLEAR_COMPARISON_LIST":return Object(s.a)({},e,{comparisonCountries:Object(x.a)()});default:return e}};n(69);i.a.render(o.a.createElement(p.a,{store:Object(K.c)(ee,Object(K.a)(X.a))},o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.c51a3bad.chunk.js.map